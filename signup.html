<!DOCTYPE html>
<html lang="en">
<head>
    <title>Sign Up - Urban Fire Pizza</title>
    <meta name="keywords" content="">
    <meta name="description" content="">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
    <!-- Google Fonts -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
    <!-- Essential CSS -->
    <link href="css/bootstrap.css" rel="stylesheet" type="text/css">
    <link href="js/colorbox/colorbox.css" rel="stylesheet" type="text/css">
    <!-- Custom CSS -->
    <link href="css/pizzatemplate_style.css" rel="stylesheet" type="text/css">
    <link href="css/ufp_product_style.css" rel="stylesheet" type="text/css">
</head>
<body>
<div class="pizzatemplate-top-menu">
    <div class="container">
        <!-- Add this HTML code to the <body> section where you want the welcome message to appear -->
<h2 id="welcome-message"></h2>

        <!-- Static navbar -->
        <div class="navbar navbar-default" role="navigation">
            <div class="container">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse"
                            data-target=".navbar-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a href="index.html" class="navbar-brand"><img src="logo/urban-fire-pizza-logo.gif"
                                                                   alt="Urban Fire Pizza" title="Urban Fire Pizza"/></a>
                </div>
                <div class="navbar-collapse collapse" id="pizzatemplate-nav-bar">
                    <ul class="nav navbar-nav navbar-right" style="margin-top: 40px;">
                        <li><a href="index.html">HOME</a></li>
                        <li><a href="order.html">ORDER</a></li>
                        <li><a href="index.html #pizzatemplate-contact">CONTACT</a></li>
                        <li><a href="login.html">LOGIN</a></li>
                        <li class="active"><a href="signup.html">SIGN UP</a></li>
                    </ul>
                </div><!--/.nav-collapse -->
            </div><!--/.container-fluid -->
        </div><!--/.navbar -->
    </div> <!-- /container -->
</div>
<div class="signup-container">
    <div id="create-acct">
        
        <ul>
            <li>
                <div>
                    <label for="first-name-signup">First Name *</label>
                    <input id="first-name-signup" type="text" placeholder="First Name">
                </div>
            </li>
            <li>
                <div>
                    <label for="last-name-signup">Last Name *</label>
                    <input id="last-name-signup" type="text" placeholder="Last Name">
                </div>
            </li>
            <li>
                <div>
                    <label for="address-signup">Address</label>
                    <input id="address-signup" type="text" placeholder="Address">
                </div>
            </li>
            <li>
                <div>
                    <label for="phone-signup">Phone Number</label>
                    <input id="phone-signup" type="tel" placeholder="Phone Number">
                </div>
            </li>
            <li>
                <div>
                    <label for="state-signup">State</label>
                    <input id="state-signup" type="text" placeholder="State">
                </div>
            </li>
            <li>
                <div>
                    <label for="zip-signup">ZIP Code</label>
                    <input id="zip-signup" type="text" placeholder="ZIP Code">
                </div>
            </li>
            <li>
                <div>
                    <label for="email-signup">Email *</label>
                    <input id="email-signup" type="email" placeholder="Email">
                </div>
            </li>
            <li>
                <div>
                    <label for="confirm-email-signup">Confirm Email *</label>
                    <input id="confirm-email-signup" type="email" placeholder="Confirm Email">
                </div>
            </li>
            <li>
                <div>
                    <label for="password-signup">Password *</label>
                    <input id="password-signup" type="password" placeholder="Password">
                </div>
            </li>
            <li>
                <div>
                    <label for="confirm-password-signup">Confirm Password *</label>
                    <input id="confirm-password-signup" type="password" placeholder="Confirm Password">
                </div>
            </li>
            <li>
                <button id="create-acct-btn">Create Account</button>
                <button id="return-btn">Return to Login</button>
            </li>
        </ul>
        
    
    
    <div class="pizzatemplate-footer">
        <div class="container">
            <div class="row">
                <div class="text-center">
    
                    <div class="footer_container">
                        <ul class="list-inline">
                            <li>
                                <a href="#">
                                    <span class="social-icon-fb"></span>
                                </a>
                            </li>
                            <li>
                                <a href="#">
                                    <span class="social-icon-rss"></span>
                                </a>
                            </li>
                            <li>
                                <a href="#">
                                    <span class="social-icon-twitter"></span>
                                </a>
                            </li>
                            <li>
                                <a href="#">
                                    <span class="social-icon-linkedin"></span>
                                </a>
                            </li>
                            <li>
                                <a href="#">
                                    <span class="social-icon-dribbble"></span>
                                </a>
                            </li>
                        </ul>
                        <div class="height30"></div>
                        <a class="btn btn-lg btn-orange" href="#navbar-brand" role="button" id="btn-back-to-top">Back
                            To Top</a>
                        <div class="height30"></div>
                    </div>
                    <div class="footer_bottom_content">
                        <span id="footer-line">Copyright Â© 2023
                            <a href="#">Urban Fire Pizza</a>
                        </span>
                    </div>
    
                </div>
            </div>
        </div>
    </div>
    <script src="js/jquery.min.js" type="text/javascript"></script>
    <script src="js/bootstrap.min.js" type="text/javascript"></script>
    <script src="js/stickUp.min.js" type="text/javascript"></script>
    <script src="js/colorbox/jquery.colorbox-min.js" type="text/javascript"></script>
    <script src="js/pizzatemplate_script.js" type="text/javascript"></script>
    <script src="js/upc_products_script.js" type="text/javascript"></script>
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.10/firebase-app.js";
        import { getAuth, createUserWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/9.6.10/firebase-auth.js";
        import { getDatabase, ref, set } from "https://www.gstatic.com/firebasejs/9.6.10/firebase-database.js";
        const firebaseConfig = {
        apiKey: "AIzaSyBQEW3iOOOCjKWEYKGzwXfow-KPJjJqlkQ",
  authDomain: "authentication-app-c4ae3.firebaseapp.com",
  databaseURL: "https://authentication-app-c4ae3-default-rtdb.firebaseio.com/",
  projectId: "authentication-app-c4ae3",
  storageBucket: "authentication-app-c4ae3.appspot.com",
  messagingSenderId: "812561663506",
  appId: "1:812561663506:web:c4d2af444b8f7e4032bacb"
};
    
const app = initializeApp(firebaseConfig);
const auth = getAuth(app);
const database = getDatabase(app);

const createAccountButton = document.getElementById("create-acct-btn");
const returnButton = document.getElementById("return-btn");

createAccountButton.addEventListener("click", function () {
  const firstNameInput = document.getElementById("first-name-signup");
  const lastNameInput = document.getElementById("last-name-signup");
  const addressInput = document.getElementById("address-signup");
  const phoneInput = document.getElementById("phone-signup");
  const stateInput = document.getElementById("state-signup");
  const zipInput = document.getElementById("zip-signup");
  const emailInput = document.getElementById("email-signup");
  const confirmEmailInput = document.getElementById("confirm-email-signup");
  const passwordInput = document.getElementById("password-signup");
  const confirmPasswordInput = document.getElementById("confirm-password-signup");

  const firstName = firstNameInput.value;
  const lastName = lastNameInput.value;
  const address = addressInput.value;
  const phone = phoneInput.value;
  const state = stateInput.value;
  const zip = zipInput.value;
  const email = emailInput.value;
  const confirmEmail = confirmEmailInput.value;
  const password = passwordInput.value;
  const confirmPassword = confirmPasswordInput.value;

  if (
    firstName === "" ||
    lastName === "" ||
    email === "" ||
    confirmEmail === "" ||
    password === "" ||
    confirmPassword === ""
  ) {
    window.alert("Please fill in all the required fields.");
    return;
  }

  if (email !== confirmEmail) {
    window.alert("Email and Confirm Email must match.");
    return;
  }

  if (password !== confirmPassword) {
    window.alert("Password and Confirm Password must match.");
    return;
  }

  createUserWithEmailAndPassword(auth, email, password)
    .then((userCredential) => {
      const user = userCredential.user;
      // Signed up successfully
      firstNameInput.value = "";
      lastNameInput.value = "";
      addressInput.value = "";
      phoneInput.value = "";
      stateInput.value = "";
      zipInput.value = "";
      emailInput.value = "";
      confirmEmailInput.value = "";
      passwordInput.value = "";
      confirmPasswordInput.value = "";
      window.alert("Account created successfully!");

      // Store user data in the Realtime Database
      const userRef = ref(database, "users/" + user.uid);
      set(userRef, {
        firstName: firstName,
        lastName: lastName,
        email: email,
        address: address,
        phone: phone,
        stateInput: stateInput,
        zipInput: zipInput,
        emailInput: emailInput,
      })
        .then(() => {

          // User data saved successfully
          window.alert("Account created successfully!");
          window.location.href = "http://127.0.0.1:5500/index.html";
        })
        .catch((error) => {
          // Error occurred while saving user data
          window.alert("Error occurred while creating account. Please try again.");
        });
    })
    .catch((error) => {
        
      // Handle erro
      const errorCode = error.code;
      const errorMessage = error.message;
      window.alert("Email already exist.");
    });
});

returnButton.addEventListener("click", function () {
  document.getElementById("create-acct").style.display = "none";
  document.getElementById("main").style.display = "block";
});
</script>
</body>
</html>
